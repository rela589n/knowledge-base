# (Testing pyramid)[https://habr.com/ru/post/358950/#SpecialisedTestHelpers]

Интеграционные тесты - они присущи везде, где есть сериализация/десериализация.
Когда нужно протестировать интеграцию со сторонней службой, стоит локально развернуть эту службу. 
Когда это невозможно, то лучше создать тестовую реализацию.

Контрактные тесты гарантируют, что provider и consumer придерживаются единого интерфейса.
CDC-тесты (Consumer Driven Contracts) - consumer пишет тесты, которые передает provider, который реализует функционал в соответствии с тестами.
Для этого можно использовать pact библиотеку

> Когда в тесте высокого уровня обнаружена ошибка, а в низкоуровневом - нет, скорее всего стоит писать низкоуровневый

> Стоит писать как можно более низкоуровневые тесты

> Тесты более высокого уровня должны быть сфокусированы на том, что не может быть покрыть тестами низкого уровня

> Каждый тест должен проверять лиш одно условие
