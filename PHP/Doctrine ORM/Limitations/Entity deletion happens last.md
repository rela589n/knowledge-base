In [[Doctrine ORM]] entity deletion happens last.

[[Deferrable Constraint|Deferred Constraint]] can be used for the rescue, allowing you to defer [[Unique Constraint]].
